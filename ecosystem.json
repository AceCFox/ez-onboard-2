{
    "apps": [
        {
            "name": "server",
            "script": "node server/server.js",
            "watch": true,
            "max_restarts": 20,
            "instances": 1,
            "max_memory_restart": "200M",
            "env": {
                "PORT": "5000",
                "EC2_ROLE_NAME": "ez-onboard-ec2-service-role"
            }
        },
        {
            "name": "client",
            "script": "react-scripts start",
            "watch": true,
            "max_restarts": 20,
            "instances": 1,
            "max_memory_restart": "200M",
            "env": {
                "PORT": "3000",
                "EC2_ROLE_NAME": "ez-onboard-ec2-service-role"
            }
        }
    ],
    "deploy": {
        "development": {
            "user": "ubuntu",
            "host": "ec2-18-217-150-107.us-east-2.compute.amazonaws.com",
            "key": "c:/path/to/ez-onboard-kwy.pem",
            "ref": "origin/aws-deploy",
            "repo": "https://github.com/GayofReckoning/EZ_Onboard.git",
            "path": "/Prime/Tier 3/zef-energy-ez-onboarding",
            "post-deploy": "pm2 startOrRestart ecosystem.json;"
        },
        "development-release": {
            "user": "ubuntu",
            "host": "ec2-18-217-150-107.us-east-2.compute.amazonaws.com",
            "key": "c:/path/to/ez-onboard-kwy.pem",
            "ref": "origin/aws-deploy",
            "repo": "https://github.com/GayofReckoning/EZ_Onboard.git",
            "path": "/Prime/Tier 3/zef-energy-ez-onboarding",
            "post-setup": "hash -d npm;sudo npm install",
            "post-deploy": "pm2 startOrRestart ecosystem.json;"
        },
        "test-release": {
            "user": "ubuntu",
            "host": "ec2-18-217-150-107.us-east-2.compute.amazonaws.com",
            "key": "c:/path/to/ez-onboard-kwy.pem",
            "ref": "origin/aws-deploy",
            "repo": "https://github.com/GayofReckoning/EZ_Onboard.git",
            "path": "/Prime/Tier 3/zef-energy-ez-onboarding",
            "post-setup": "sudo npm install",
            "post-deploy": "hash -d npm;sudo npm install && pm2 startOrRestart ecosystem.json;"
        },
        "production": {
            "user": "ubuntu",
            "host": "ec2-18-217-150-107.us-east-2.compute.amazonaws.com",
            "key": "c:/path/to/ez-onboard-kwy.pem",
            "ref": "origin/aws-deploy",
            "repo": "https://github.com/GayofReckoning/EZ_Onboard.git",
            "path": "/Prime/Tier 3/zef-energy-ez-onboarding",
            "post-setup": "sudo npm install",
            "post-deploy": "hash -d npm;sudo npm install && pm2 startOrRestart ecosystem.json;"
        }
    }
}